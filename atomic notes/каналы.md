Tags: [[для собеседований]]

#golang 



## Каналы



1. Как устроен канал?

	В рантайме канал (и с буфером, и без) выглядит так:
	
	![[Screenshot From 2025-10-12 23-53-05.png]]
	
	Т.е. любая переменная типа `chan` - это ссылка на эту структуру
	
	И у каждого канала своя копия
	
	
	
	Каждый из полей по-порядку: 
	
	- `closed` - атомарный флаг - закрыт или открыт канал
	  
		Флаг `closed` выбран не `bool`, потому что атомики не могут работать с `bool` параметрами
	
	
	- `recvq`, `sendq` - указатели на связанный список из горутин, которые ожидают чтения или записи
	
	
	- `lock` - мьютекс
	
	
	


---


2. 

	
	
	
	
	
	
	
	
	


---


## Related


