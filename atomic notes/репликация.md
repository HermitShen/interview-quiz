Tags: [[для собеседований]]

#golang 



# Репликация
 
## Что такое репликация
 
Репликация - это создание **копии** БД

Копия может исопользоваться для различных целей
 

Самый распространенный вариант репликаций - это отношение **Master - Slave**

В master мы пишем данные, а в slave копируем

![[Screenshot From 2025-10-20 12-39-30.png|400]]
  

Реплики бывают **синхронные** и **асинхронные**:

![[Screenshot From 2025-10-20 12-44-21.png]]
 


> [!tip] 
> Если спросят, был ли опыт с репликациями, можно ответить, что не работал 
   

> [!important] 
> Репликация в целях масштабирования нагрузки - это **антипаттерн**
> 
> Если у нас read-intensive нагрузка и мало записи - лучше **поставить кэш** 


 
 
## CAP - теорема
 
**CAP-теорема** говорит: в распределённой системе при **сетевом разрыве** (partition, P) нельзя одновременно гарантировать и **сильную согласованность** (C), и **полную доступность** (A). 
 

Во время разрыва приходится выбирать между consistency и availability (**согласованность** и **доступность**)

![[Screenshot From 2025-10-20 15-40-58.png|450]]
![[Screenshot From 2025-10-20 15-41-13.png|450]]
 
Если мы выберем **консистентность**, то данные могут не соотв. тем, что есть в master, т.е. они с некоторой вероятностью будут **невалидными**

Если мы веберем **согласованность**, то мы не будет отдавать **несогласованные** данные -> будет возвращать статус 500

 
 
## fsd