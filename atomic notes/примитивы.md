Tags: [[для собеседований]]

#golang 



# Какие примитивы есть


&emsp;

Все примитивы перечислены ниже:

![[Screenshot From 2025-10-10 01-28-48 1.png]]

&emsp;

## `sync.Map`

&emsp;

Основные применения:

![[Screenshot From 2025-10-10 01-57-38.png]]

&emsp;

При выборе между мьютексом с мапой и `sync.Map` нужно учитывать кол-во лог. ядер

Т.к. при определенном перекосе одно решение будет быстрее другого



## `sync.Once`, `sync.OnceFunc`

&emsp;

Полезны, когда нужно выполнить операцию только **один раз**

Применяется в паттерне `errgroupe`

&emsp;

## `sync.Pool`

&emsp;

Полезен, когда у нас много аллокаций крупных объектов, для снижения нагрузки на GC

Используется редко

&emsp;

## `sync.Cond`

&emsp;

Предназначени для обмена сигналами между горутинами

Строго **не рекомендуется** говорить на собеседовании о том, что был опыт работы с ними, если в действительности их не щупал

Просто ответь, что не работал

&emsp;

## Мьютексы vs атомики vs каналы

&emsp;

В целом общий советы:  

- Использовать поменьше атомиков, либо для corner-case-ов

- Мьютексы хороши для разделения ресурсы между горутинами. Очень распротранены c мьютексами такие структуры, как map, очередь, кольцевой буфер в канале

- Для общения между горутинами используй каналы
  
&emsp;
  
![[Screenshot From 2025-10-10 03-09-00.png]]


